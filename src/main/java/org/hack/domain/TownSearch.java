package org.hack.domain;

import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;

public class TownSearch {

    private final static String[] TOWN_LIST = new String[] {"L'Absie (79001)", "Adilly (79002)", "Aiffres (79003)", "Aigonnay (79004)", "Airvault (79005)", "Allonne (79007)", "Amailloux (79008)", "Amuré (79009)", "Arçais (79010)", "Ardilleux (79011)", "Ardin (79012)", "Argentonnay (79013)", "Argenton-l'Église (79014)", "Asnières-en-Poitou (79015)", "Assais-les-Jumeaux (79016)", "Aubigné (79018)", "Aubigny (79019)", "Augé (79020)", "Availles-Thouarsais (79022)", "Avon (79023)", "Azay-le-Brûlé (79024)", "Azay-sur-Thouet (79025)", "La Bataille (79027)", "Beaulieu-sous-Parthenay (79029)", "Beaussais-Vitré (79030)", "Beauvoir-sur-Niort (79031)", "Béceleuf (79032)", "Bessines (79034)", "Le Beugnon (79035)", "Boismé (79038)", "La Boissière-en-Gâtine (79040)", "Bougon (79042)", "Bouillé-Loretz (79043)", "Bouin (79045)", "Le Bourdet (79046)", "Boussais (79047)", "La Crèche (79048)", "Bressuire (79049)", "Bretignolles (79050)", "Le Breuil-Bernard (79051)", "Brie (79054)", "Brieuil-sur-Chizé (79055)", "Brion-près-Thouet (79056)", "Brioux-sur-Boutonne (79057)", "Brûlain (79058)", "Le Busseau (79059)", "Caunay (79060)", "Celles-sur-Belle (79061)", "Cerizay (79062)", "Val en Vignes (79063)", "Chail (79064)", "Champdeniers-Saint-Denis (79066)", "Chantecorps (79068)", "Chanteloup (79069)", "La Chapelle-Bâton (79070)", "La Chapelle-Bertrand (79071)", "La Chapelle-Pouilloux (79074)", "La Chapelle-Saint-Étienne (79075)", "La Chapelle-Saint-Laurent (79076)", "La Chapelle-Thireuil (79077)", "Plaine-d'Argenson (79078)", "Mauléon (79079)", "Châtillon-sur-Thouet (79080)", "Chauray (79081)", "Chef-Boutonne (79083)", "Chenay (79084)", "Chérigné (79085)", "Cherveux (79086)", "Chey (79087)", "Chiché (79088)", "Le Chillou (79089)", "Chizé (79090)", "Cirières (79091)", "Clavé (79092)", "Clessé (79094)", "Clussais-la-Pommeraie (79095)", "Combrand (79096)", "La Couarde (79098)", "Coulon (79100)", "Coulonges-sur-l'Autize (79101)", "Coulonges-Thouarsais (79102)", "Courlay (79103)", "Cours (79104)", "Coutières (79105)", "Couture-d'Argenson (79106)", "Crézières (79107)", "Doux (79108)", "Échiré (79109)", "Ensigné (79111)", "Épannes (79112)", "Exireuil (79114)", "Exoudun (79115)", "Faye-l'Abbesse (79116)", "Faye-sur-Ardin (79117)", "Fénery (79118)", "Fenioux (79119)", "La Ferrière-en-Parthenay (79120)", "Fomperron (79121)", "Fontenille-Saint-Martin-d'Entraigues (79122)", "La Forêt-sur-Sèvre (79123)", "Les Forges (79124)", "Fors (79125)", "Les Fosses (79126)", "La Foye-Monjault (79127)", "François (79128)", "Fressines (79129)", "Frontenay-Rohan-Rohan (79130)", "Geay (79131)", "Genneton (79132)", "Germond-Rouvre (79133)", "Glénay (79134)", "Gourgé (79135)", "Alloinay (79136)", "Granzay-Gript (79137)", "Les Groseillers (79139)", "Hanc (79140)", "Irais (79141)", "Juillé (79142)", "Juscorps (79144)", "Lageon (79145)", "Largeasse (79147)", "Lezay (79148)", "Lhoumois (79149)", "Limalonges (79150)", "Lorigné (79152)", "Loubigné (79153)", "Loubillé (79154)", "Louin (79156)", "Louzy (79157)", "Luché-sur-Brioux (79158)", "Luché-Thouarsais (79159)", "Lusseray (79160)", "Luzay (79161)", "Magné (79162)", "Mairé-Levescault (79163)", "Maisonnay (79164)", "Maisontiers (79165)", "Marigny (79166)", "Marnes (79167)", "Mauzé-sur-le-Mignon (79170)", "Mauzé-Thouarsais (79171)", "Mazières-en-Gâtine (79172)", "Mazières-sur-Béronne (79173)", "Melle (79174)", "Melleran (79175)", "Ménigoute (79176)", "Messé (79177)", "Missé (79178)", "Moncoutant (79179)", "Montalembert (79180)", "Montravers (79183)", "La Mothe-Saint-Héray (79184)", "Mougon-Thorigné (79185)", "Moutiers-sous-Chantemerle (79188)", "Nanteuil (79189)", "Neuvy-Bouin (79190)", "Niort (79191)", "Nueil-les-Aubiers (79195)", "Oiron (79196)", "Oroux (79197)", "Paizay-le-Chapt (79198)", "Paizay-le-Tort (79199)", "Pamplie (79200)", "Pamproux (79201)", "Parthenay (79202)", "Pas-de-Jeu (79203)", "Périgné (79204)", "Pers (79205)", "La Petite-Boissière (79207)", "La Peyratte (79208)", "Pierrefitte (79209)", "Le Pin (79210)", "Pioussay (79211)", "Pliboux (79212)", "Pompaire (79213)", "Pouffonds (79214)", "Pougne-Hérisson (79215)", "Prahecq (79216)", "Prailles (79217)", "Pressigny (79218)", "Priaires (79219)", "Prin-Deyrançon (79220)", "Pugny (79222)", "Puihardy (79223)", "Reffannes (79225)", "Le Retail (79226)", "La Rochénard (79229)", "Rom (79230)", "Romans (79231)", "Saint-Amand-sur-Sèvre (79235)", "Saint-André-sur-Sèvre (79236)", "Saint-Aubin-du-Plain (79238)", "Saint-Aubin-le-Cloud (79239)", "Sainte-Blandine (79240)", "Saint-Christophe-sur-Roc (79241)", "Voulmentin (79242)", "Saint-Coutant (79243)", "Saint-Cyr-la-Lande (79244)", "Sainte-Eanne (79246)", "Saint-Gelais (79249)", "Sainte-Gemme (79250)", "Saint-Génard (79251)", "Saint-Généroux (79252)", "Saint-Georges-de-Noisné (79253)", "Saint-Georges-de-Rex (79254)", "Saint-Germain-de-Longue-Chaume (79255)", "Saint-Germier (79256)", "Saint-Hilaire-la-Palud (79257)", "Saint-Jacques-de-Thouars (79258)", "Saint-Jean-de-Thouars (79259)", "Saint-Jouin-de-Marnes (79260)", "Saint-Jouin-de-Milly (79261)", "Saint-Laurs (79263)", "Saint-Léger-de-la-Martinière (79264)", "Saint-Léger-de-Montbrun (79265)", "Saint-Lin (79267)", "Saint-Loup-Lamairé (79268)", "Saint-Maixent-de-Beugné (79269)", "Saint-Maixent-l'École (79270)", "Saint-Marc-la-Lande (79271)", "Saint-Martin-de-Bernegoue (79273)", "Saint-Martin-de-Mâcon (79274)", "Saint-Martin-de-Saint-Maixent (79276)", "Saint-Martin-de-Sanzay (79277)", "Saint-Martin-du-Fouilloux (79278)", "Saint-Martin-lès-Melle (79279)", "Saint-Maurice-Étusson (79280)", "Saint-Maxire (79281)", "Saint-Médard (79282)", "Sainte-Néomaye (79283)", "Sainte-Ouenne (79284)", "Saint-Pardoux (79285)", "Saint-Paul-en-Gâtine (79286)", "Saint-Pierre-des-Échaubrognes (79289)", "Saint-Pompain (79290)", "Sainte-Radegonde (79292)", "Saint-Rémy (79293)", "Saint-Romans-des-Champs (79294)", "Saint-Romans-lès-Melle (79295)", "Sainte-Soline (79297)", "Saint-Symphorien (79298)", "Saint-Varent (79299)", "Sainte-Verge (79300)", "Saint-Vincent-la-Châtre (79301)", "Saivres (79302)", "Salles (79303)", "Sansais (79304)", "Saurais (79306)", "Sauzé-Vaussais (79307)", "Sciecq (79308)", "Scillé (79309)", "Secondigné-sur-Belle (79310)", "Secondigny (79311)", "Séligné (79312)", "Sepvret (79313)", "Sompt (79314)", "Soudan (79316)", "Soutiers (79318)", "Souvigné (79319)", "Surin (79320)", "Taizé-Maulais (79321)", "Le Tallud (79322)", "Tessonnière (79325)", "Thénezay (79326)", "Thorigny-sur-le-Mignon (79328)", "Thouars (79329)", "Tillou (79330)", "Tourtenay (79331)", "Trayes (79332)", "Usseau (79334)", "Vallans (79335)", "Vançais (79336)", "Le Vanneau-Irleau (79337)", "Vanzay (79338)", "Vasles (79339)", "Vausseroux (79340)", "Vautebis (79341)", "Vernoux-en-Gâtine (79342)", "Vernoux-sur-Boutonne (79343)", "Verruyes (79345)", "Le Vert (79346)", "Viennay (79347)", "Villefollet (79348)", "Villemain (79349)", "Villiers-en-Bois (79350)", "Villiers-en-Plaine (79351)", "Villiers-sur-Chizé (79352)", "Vouhé (79354)", "Vouillé (79355)", "Xaintray (79357)", "Adriers (86001)", "Amberre (86002)", "Anché (86003)", "Angles-sur-l'Anglin (86004)", "Angliers (86005)", "Antigny (86006)", "Antran (86007)", "Arçay (86008)", "Archigny (86009)", "Aslonnes (86010)", "Asnières-sur-Blour (86011)", "Asnois (86012)", "Aulnay (86013)", "Availles-en-Châtellerault (86014)", "Availles-Limouzine (86015)", "Avanton (86016)", "Ayron (86017)", "Basses (86018)", "Beaumont Saint-Cyr (86019)", "Bellefonds (86020)", "Benassay (86021)", "Berrie (86022)", "Berthegon (86023)", "Béruges (86024)", "Béthines (86025)", "Beuxes (86026)", "Biard (86027)", "Bignoux (86028)", "Blanzay (86029)", "Bonnes (86031)", "Bonneuil-Matours (86032)", "Bouresse (86034)", "Bourg-Archambault (86035)", "Bournand (86036)", "Brigueil-le-Chantre (86037)", "Brion (86038)", "Brux (86039)", "La Bussière (86040)", "Buxerolles (86041)", "Buxeuil (86042)", "Ceaux-en-Couhé (86043)", "Ceaux-en-Loudun (86044)", "Celle-Lévescault (86045)", "Cenon-sur-Vienne (86046)", "Cernay (86047)", "Chabournay (86048)", "Chalais (86049)", "Chalandray (86050)", "Champagné-le-Sec (86051)", "Champagné-Saint-Hilaire (86052)", "Champigny en Rochereau (86053)", "Champniers (86054)", "La Chapelle-Bâton (86055)", "La Chapelle-Montreuil (86056)", "La Chapelle-Moulière (86058)", "Chapelle-Viviers (86059)", "Charroux (86061)", "Chasseneuil-du-Poitou (86062)", "Chatain (86063)", "Château-Garnier (86064)", "Château-Larcher (86065)", "Châtellerault (86066)", "Châtillon (86067)", "Chaunay (86068)", "La Chaussée (86069)", "Chauvigny (86070)", "Chenevelles (86072)", "Cherves (86073)", "Chiré-en-Montreuil (86074)", "Chouppes (86075)", "Cissé (86076)", "Civaux (86077)", "Civray (86078)", "La Roche-Rigault (86079)", "Cloué (86080)", "Colombiers (86081)", "Couhé (86082)", "Coulombiers (86083)", "Coulonges (86084)", "Coussay (86085)", "Coussay-les-Bois (86086)", "Craon (86087)", "Croutelle (86088)", "Cuhon (86089)", "Curçay-sur-Dive (86090)", "Curzay-sur-Vonne (86091)", "Dangé-Saint-Romain (86092)", "Dercé (86093)", "Dienné (86094)", "Dissay (86095)", "Doussay (86096)", "La Ferrière-Airoux (86097)", "Fleix (86098)", "Fleuré (86099)", "Fontaine-le-Comte (86100)", "Frozes (86102)", "Gençay (86103)", "Genouillé (86104)", "Gizay (86105)", "Glénouze (86106)", "Gouex (86107)", "La Grimaudière (86108)", "Guesnes (86109)", "Haims (86110)", "Ingrandes (86111)", "L'Isle-Jourdain (86112)", "Iteuil (86113)", "Jardres (86114)", "Jaunay-Marigny (86115)", "Jazeneuil (86116)", "Jouhet (86117)", "Journet (86118)", "Joussé (86119)", "Lathus-Saint-Rémy (86120)", "Latillé (86121)", "Lauthiers (86122)", "Lavausseau (86123)", "Lavoux (86124)", "Leigné-les-Bois (86125)", "Leignes-sur-Fontaine (86126)", "Leigné-sur-Usseau (86127)", "Lencloître (86128)", "Lésigny (86129)", "Leugny (86130)", "Lhommaizé (86131)", "Liglet (86132)", "Ligugé (86133)", "Linazay (86134)", "Liniers (86135)", "Lizant (86136)", "Loudun (86137)", "Luchapt (86138)", "Lusignan (86139)", "Lussac-les-Châteaux (86140)", "Magné (86141)", "Maillé (86142)", "Mairé (86143)", "Maisonneuve (86144)", "Marçay (86145)", "Marigny-Chemereau (86147)", "Marnay (86148)", "Martaizé (86149)", "Massognes (86150)", "Maulay (86151)", "Mauprévoir (86152)", "Mazerolles (86153)", "Mazeuil (86154)", "Messemé (86156)", "Mignaloux-Beauvoir (86157)", "Migné-Auxances (86158)", "Millac (86159)", "Mirebeau (86160)", "Moncontour (86161)", "Mondion (86162)", "Montamisé (86163)", "Monthoiron (86164)", "Montmorillon (86165)", "Montreuil-Bonnin (86166)", "Monts-sur-Guesnes (86167)", "Morton (86169)", "Moulismes (86170)", "Moussac (86171)", "Mouterre-sur-Blourde (86172)", "Mouterre-Silly (86173)", "Naintré (86174)", "Nalliers (86175)", "Nérignac (86176)", "Neuville-de-Poitou (86177)", "Nieuil-l'Espoir (86178)", "Nouaillé-Maupertuis (86180)", "Nueil-sous-Faye (86181)", "Orches (86182)", "Les Ormes (86183)", "Ouzilly (86184)", "Oyré (86186)", "Paizay-le-Sec (86187)", "Payré (86188)", "Payroux (86189)", "Persac (86190)", "Pindray (86191)", "Plaisance (86192)", "Pleumartin (86193)", "Poitiers (86194)", "Port-de-Piles (86195)", "Pouançay (86196)", "Pouant (86197)", "Pouillé (86198)", "Pressac (86200)", "Prinçay (86201)", "La Puye (86202)", "Queaux (86203)", "Quinçay (86204)", "Ranton (86205)", "Raslay (86206)", "La Roche-Posay (86207)", "Roches-Prémarie-Andillé (86209)", "Roiffé (86210)", "Romagne (86211)", "Rouillé (86213)", "Saint-Benoît (86214)", "Saint-Christophe (86217)", "Saint-Clair (86218)", "Saint-Gaudent (86220)", "Saint-Genest-d'Ambière (86221)", "Saint-Georges-lès-Baillargeaux (86222)", "Saint-Germain (86223)", "Saint-Gervais-les-Trois-Clochers (86224)", "Saint-Jean-de-Sauves (86225)", "Saint-Julien-l'Ars (86226)", "Saint-Laon (86227)", "Saint-Laurent-de-Jourdes (86228)", "Saint-Léger-de-Montbrillais (86229)", "Saint-Léomer (86230)", "Saint-Macoux (86231)", "Valdivienne (86233)", "Saint-Martin-l'Ars (86234)", "Saint-Maurice-la-Clouère (86235)", "Saint-Pierre-de-Maillé (86236)", "Saint-Pierre-d'Exideuil (86237)", "Sainte-Radégonde (86239)", "Saint-Rémy-sur-Creuse (86241)", "Saint-Romain (86242)", "Saint-Sauvant (86244)", "Senillé-Saint-Sauveur (86245)", "Saint-Savin (86246)", "Saint-Saviol (86247)", "Saint-Secondin (86248)", "Saires (86249)", "Saix (86250)", "Sammarçolles (86252)", "Sanxay (86253)", "Saulgé (86254)", "Savigné (86255)", "Savigny-Lévescault (86256)", "Savigny-sous-Faye (86257)", "Scorbé-Clairvaux (86258)", "Sérigny (86260)", "Sèvres-Anxaumont (86261)", "Sillars (86262)", "Smarves (86263)", "Sommières-du-Clain (86264)", "Sossay (86265)", "Surin (86266)", "Tercé (86268)", "Ternay (86269)", "Thollet (86270)", "Thurageau (86271)", "Thuré (86272)", "La Trimouille (86273)", "Les Trois-Moutiers (86274)", "Usseau (86275)", "Usson-du-Poitou (86276)", "Varennes (86277)", "Vaux (86278)", "Vaux-sur-Vienne (86279)", "Vellèches (86280)", "Saint-Martin-la-Pallu (86281)", "Vernon (86284)", "Verrières (86285)", "Verrue (86286)", "Vézières (86287)", "Vicq-sur-Gartempe (86288)", "Le Vigeant (86289)", "La Villedieu-du-Clain (86290)", "Villemort (86291)", "Villiers (86292)", "Vivonne (86293)", "Vouillé (86294)", "Voulême (86295)", "Voulon (86296)", "Vouneuil-sous-Biard (86297)", "Vouneuil-sur-Vienne (86298)", "Vouzailles (86299)", "Yversay (86300)"};

    public static List<String> getTown(String part) {
        String toFind;
        if (part.matches("\\d+")) {
            // Code postal
            toFind = " (" + part;
            return Arrays.stream(TOWN_LIST).filter(s -> s.toLowerCase().contains(toFind)).collect(Collectors.toList());
        } else {
            // Debut de nom de ville
            toFind = part.toLowerCase();
            return Arrays.stream(TOWN_LIST).filter(s -> s.toLowerCase().startsWith(toFind)).collect(Collectors.toList());
        }
    }
}
